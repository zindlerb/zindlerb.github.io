(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(20)},17:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(11),o=n.n(l),s=(n(17),n(7)),c=n(4),i=n(8),m=n(1),u=n(2),d=n(3),w=n(5),h=n.n(w),E=n(6),f=n.n(E),b=(n(19),function(){}),g=function(){function e(t){var n=t.columns,a=t.primaryKey,r=t.rows,l=void 0===r?[]:r;Object(u.a)(this,e),this.columns=n,this.rows=l,this.primaryKey=a}return Object(d.a)(e,[{key:"crossJoin",value:function(t){var n=t.table,a=new e({columns:this.columns.concat(n.columns)});return this.rows.forEach(function(e){n.rows.forEach(function(t){a.rows.push(Object(m.a)({},e,t))})}),a}},{key:"innerJoin",value:function(t){var n=t.table,a=t.onCondition,r=new e({columns:this.columns.concat(n.columns)});return this.rows.forEach(function(e){n.rows.forEach(function(t){a(e,t)&&r.rows.push(Object(m.a)({},e,t))})}),r}},{key:"leftOuterJoin",value:function(e){var t=this,n=e.table,a=e.onCondition,r=n,l=this.innerJoin({table:r,onCondition:a});return this.rows.forEach(function(e){!!l.rows.find(function(n){return n[t.primaryKey]===e[t.primaryKey]})||l.rows.push(Object(m.a)({},e,r.createNullRow()))}),l.rows=h.a.orderBy(l.rows,function(e){return e[t.primaryKey]},"asc"),l}},{key:"rightOuterJoin",value:function(e){var t=this,n=e.table,a=e.onCondition,r=n,l=this.innerJoin({table:r,onCondition:a});return r.rows.forEach(function(e){!!l.rows.find(function(t){return t[r.primaryKey]===e[r.primaryKey]})||l.rows.push(Object(m.a)({},e,t.createNullRow()))}),l.rows=h.a.orderBy(l.rows,function(e){return e[r.primaryKey]},"asc"),l}},{key:"createNullRow",value:function(){return this.columns.reduce(function(e,t){return e[t]=null,e},{})}},{key:"rowsAsMatrix",value:function(){var e=this;return this.rows.map(function(t){return e.columns.map(function(e){return t[e]})})}}]),e}(),v=function(e){var t=e.content,n=e.text,a=e.width,l=e.contentHeight;return r.a.createElement("div",{className:"panel flex flex-column",style:{width:a}},r.a.createElement("div",{className:"content inner-container flex items-center justify-center",style:{height:l}},t),r.a.createElement("div",{className:f()("text f5 inner-container",{"has-text":!!n})},n))},y=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){hljs.highlightBlock(this._el)}},{key:"render",value:function(){var e=this;return r.a.createElement("code",{className:f()("sql code-block",this.props.className),ref:function(t){return e._el=t}},this.props.children)}}]),t}(r.a.Component),p=function(e){var t=e.className,n=void 0===t?null:t,a=e.headers,l=void 0===a?[]:a,o=e.rows,s=void 0===o?[]:o,c=e.columnClass,i=void 0===c?null:c,m=e.getRowClass,u=void 0===m?b:m;return r.a.createElement("table",{className:n},r.a.createElement("thead",null,r.a.createElement("tr",null,l.map(function(e){return r.a.createElement("th",{className:i},e)}))),r.a.createElement("tbody",null,s.map(function(e,t){return r.a.createElement("tr",{className:u(e,t,s)},e.map(function(e){return r.a.createElement("td",{className:i},e||"NULL")}))})))},N=function(e){var t=e.className;return r.a.createElement("i",{className:"fas fa-arrow-right "+t})},x=function(e){var t=e.ownersTable,n=e.dogsTable;return r.a.createElement("div",{className:""},r.a.createElement(k,{className:"mb4",ownersTable:t}),r.a.createElement(J,{dogsTable:n}))},T=function(e){var t=e.ownersTable,n=e.dogsTable,a=t.crossJoin({table:n});return r.a.createElement("div",{className:"flex cross-join-steps justify-between-ns flex-wrap justify-center"},r.a.createElement(v,{width:280,contentHeight:620,content:r.a.createElement(x,{ownersTable:t,dogsTable:n}),text:"First you take the owners and the dogs table."}),r.a.createElement("div",{className:"flex items-center dn-small arrow-col"},r.a.createElement(N,null)),r.a.createElement(v,{width:380,contentHeight:620,content:r.a.createElement("div",null,t.rowsAsMatrix().map(function(e,a){return r.a.createElement("div",{className:"flex justify-between mb3"},r.a.createElement(p,{columnClass:"owner-column",headers:0===a?t.columns:[],rows:[e]}),r.a.createElement("div",{className:"operator"},"+"),r.a.createElement(p,{columnClass:"dog-column",headers:0===a?n.columns:[],rows:n.rowsAsMatrix()}))})),text:"Then take each row in the owners table and combine it with each row in the dogs table."}),r.a.createElement("div",{className:"flex items-center dn-small arrow-col"},r.a.createElement(N,null)),r.a.createElement(v,{contentHeight:620,width:280,content:r.a.createElement(p,{columnClass:"owner-column",headers:a.columns,rows:a.rowsAsMatrix()}),text:"Finally, you get a table with all of the columns from the dogs and owners table."}))},j=function(e){var t=e.ownersTable,n=e.dogsTable,a=t.crossJoin({table:n}),l=t.innerJoin({table:n,onCondition:function(e,t){return e.id===t.owner_id}});return r.a.createElement("div",{className:"flex cross-join-steps justify-between-ns flex-wrap justify-center"},r.a.createElement(v,{contentHeight:570,width:300,content:r.a.createElement(x,{ownersTable:t,dogsTable:n}),text:"First you take the owners and the dogs table."}),r.a.createElement("div",{className:"flex items-center dn-small arrow-col"},r.a.createElement(N,null)),r.a.createElement(v,{contentHeight:570,width:200,content:r.a.createElement(p,{columnClass:"owner-column",headers:a.columns,rows:a.rowsAsMatrix()}),text:r.a.createElement("span",null,"Then you take the cross join of the tables.")}),r.a.createElement("div",{className:"flex items-center dn-small arrow-col"},r.a.createElement(N,null)),r.a.createElement(v,{contentHeight:570,width:200,content:r.a.createElement(p,{columnClass:"owner-column",headers:a.columns,rows:a.rowsAsMatrix(),getRowClass:function(e,t,n){var a=e[0]!==e[3],r=n[t+1];return a&&r&&r[0]===r[3]?"removed next-present":a?"removed":void 0}}),text:r.a.createElement("span",null,"Then you filter out the rows that do not satisfy the on condition.")}),r.a.createElement("div",{className:"flex items-center dn-small arrow-col"},r.a.createElement(N,null)),r.a.createElement(v,{contentHeight:570,width:180,content:r.a.createElement(p,{columnClass:"owner-column",headers:l.columns,rows:l.rowsAsMatrix()}),text:r.a.createElement("span",null,"Finally you get a filtered table with all of the columns from the dogs and the owners table.")}))},O=function(e){var t=e.ownersTable,n=e.dogsTable,a=t.innerJoin({table:n,onCondition:function(e,t){return e.id===t.owner_id}}),l=t.leftOuterJoin({table:n,onCondition:function(e,t){return e.id===t.owner_id}});return r.a.createElement("div",{className:"flex cross-join-steps justify-between-ns flex-wrap justify-center"},r.a.createElement(v,{contentHeight:420,width:300,content:r.a.createElement(x,{ownersTable:t,dogsTable:n}),text:"First you take the owners and the dogs table."}),r.a.createElement("div",{className:"flex items-center dn-small arrow-col"},r.a.createElement(N,null)),r.a.createElement(v,{contentHeight:420,width:300,content:r.a.createElement(p,{columnClass:"owner-column",headers:a.columns,rows:a.rowsAsMatrix()}),text:r.a.createElement("span",null,"Then you take inner join of the tables.")}),r.a.createElement("div",{className:"flex items-center dn-small arrow-col"},r.a.createElement(N,null)),r.a.createElement(v,{contentHeight:420,width:400,content:r.a.createElement(p,{columnClass:"owner-column",headers:l.columns,rows:l.rowsAsMatrix(),getRowClass:function(e){return e[3]?"":"added"}}),text:r.a.createElement("span",null,"Finally, add in any missing rows from the left table. The left table is the table named in the from part of the query. For the added rows the right table columns will be null.")}))},C=function(e){var t=e.ownersTable,n=e.dogsTable,a=t.innerJoin({table:n,onCondition:function(e,t){return e.id===t.owner_id}}),l=t.rightOuterJoin({table:n,onCondition:function(e,t){return e.id===t.owner_id}});return r.a.createElement("div",{className:"flex cross-join-steps justify-between-ns flex-wrap justify-center"},r.a.createElement(v,{contentHeight:420,width:300,content:r.a.createElement(x,{ownersTable:t,dogsTable:n}),text:"First you take the owners and the dogs table."}),r.a.createElement("div",{className:"flex items-center dn-small arrow-col"},r.a.createElement(N,null)),r.a.createElement(v,{width:300,contentHeight:420,content:r.a.createElement(p,{columnClass:"owner-column",headers:a.columns,rows:a.rowsAsMatrix()}),text:"Next, take inner join of the owners and dogs table."}),r.a.createElement("div",{className:"flex items-center dn-small arrow-col"},r.a.createElement(N,null)),r.a.createElement(v,{width:400,contentHeight:420,content:r.a.createElement(p,{columnClass:"owner-column",headers:l.columns,rows:l.rowsAsMatrix(),getRowClass:function(e){return e[0]?"":"added"}}),text:r.a.createElement("span",null,"Finally, add in any missing rows from the right table. The right table is the table named following the OUTER JOIN part of the query. For the added rows the left table columns will be null.")}))},k=function(e){var t=e.className,n=e.ownersTable;return r.a.createElement("div",{className:t},r.a.createElement("label",{className:"mv2 dib"},"Owners"),r.a.createElement(p,{headers:n.columns,rows:n.rowsAsMatrix()}))},J=function(e){var t=e.className,n=e.dogsTable;return r.a.createElement("div",{className:t},r.a.createElement("label",{className:"mv2 dib"},"Dogs"),r.a.createElement(p,{headers:n.columns,rows:n.rowsAsMatrix()}))},_=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={ownersTable:new g({primaryKey:"id",columns:["id","first_name"],rows:[{id:1,first_name:"Brian"},{id:2,first_name:"Sam"},{id:3,first_name:"Alex"},{id:4,first_name:"Kyle"}]}),dogsTable:new g({primaryKey:"name",columns:["name","owner_id"],rows:[{name:"Lu",owner_id:1},{name:"Marty",owner_id:2},{name:"Murphy",owner_id:3},{name:"Ringo",owner_id:1},{name:"Doggo",owner_id:8}]})},n}return Object(i.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.ownersTable,n=e.dogsTable;return r.a.createElement("div",null,r.a.createElement("div",{className:"mb4"},r.a.createElement("h1",{className:"tc mb2"},"Joins In Steps"),r.a.createElement("h2",{className:"normal f5 tc silver mt0"},"7 May 2019 - ",r.a.createElement("a",{className:"silver",href:"http://www.zindlerb.com/"},"Brian Zindler"))),r.a.createElement("div",{className:"flex justify-center mb5 flex-wrap"},r.a.createElement("div",{className:"flex"},r.a.createElement(k,{className:"mr5",ownersTable:t}),r.a.createElement(J,{className:"ml5 mr5-ns",dogsTable:n})),r.a.createElement("div",{className:"flex sidebar-text items-center f5 lh-copy ph0-ns ph3"},r.a.createElement("p",null,"In the following examples, the SQL joins are broken down into the steps used to compute them. These steps are not what the database literally does, but they are useful for conceptually understanding joins. The examples will join the owners and dogs tables shown here. For a more traditional and complete breakdown of SQL joins I reccomend the ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Join_(SQL)"},"join wikipedia page"),"."))),r.a.createElement("div",null,r.a.createElement("div",{className:"mh3"},r.a.createElement("h2",null,"Cross Join"),r.a.createElement(y,{className:"mb2"},"SELECT *",r.a.createElement("br",null),"FROM owners",r.a.createElement("br",null),r.a.createElement("b",null,"CROSS")," JOIN dogs;"),r.a.createElement(T,{ownersTable:t,dogsTable:n})),r.a.createElement("div",{className:"mh3"},r.a.createElement("h2",null,"Inner Join"),r.a.createElement(y,{className:"mb2"},"SELECT *",r.a.createElement("br",null),"FROM owners",r.a.createElement("br",null),r.a.createElement("b",null,"INNER")," JOIN dogs",r.a.createElement("br",null),r.a.createElement("b",null,"ON")," owners.id = dogs.owner_id;"),r.a.createElement(j,{ownersTable:t,dogsTable:n})),r.a.createElement("div",{className:"mh3"},r.a.createElement("h2",null,"Left Outer Join"),r.a.createElement(y,{className:"mb2"},"SELECT *",r.a.createElement("br",null),"FROM owners",r.a.createElement("br",null),r.a.createElement("b",null,"LEFT")," OUTER JOIN dogs",r.a.createElement("br",null),r.a.createElement("b",null,"ON")," owners.id = dogs.owner_id;"),r.a.createElement(O,{ownersTable:t,dogsTable:n})),r.a.createElement("div",{className:"mh3"},r.a.createElement("h2",null,"Right Outer Join"),r.a.createElement(y,{className:"mb2"},"SELECT *",r.a.createElement("br",null),"FROM owners",r.a.createElement("br",null),r.a.createElement("b",null,"RIGHT")," OUTER JOIN dogs",r.a.createElement("br",null),r.a.createElement("b",null,"ON")," owners.id = dogs.owner_id;"),r.a.createElement(C,{ownersTable:t,dogsTable:n}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,1,2]]]);
//# sourceMappingURL=main.468da98b.chunk.js.map